{"ast":null,"code":"import { openDatabase } from 'expo-sqlite';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nvar db = openDatabase('csgoSkins');\n\nvar createDb = function createDb() {\n  db.transaction(function (trx) {\n    trx.executeSql(\"Create table if not exists skins (id INTEGER PRIMARY KEY AUTOINCREMENT, skinName TEXT, icon_url TEXT, rarity TEXT, exterior TEXT)\", [], function (txObj, resultSet) {\n      return console.log(\"Success\");\n    }, function (txObj, error) {\n      return console.log(\"Error\", error);\n    });\n  });\n};\n\nvar addToDb = function addToDb(skinName, icon_url, rarity, exterior) {\n  db.transaction(function (trx) {\n    trx.executeSql(\"Insert into skins (skinName , icon_url , rarity , exterior) VALUES (?, ?, ?, ?)\", [skinName, icon_url, rarity, exterior], function (txObj, resultSet) {\n      return console.log(\"Success\", resultSet);\n    }, function (txObj, error) {\n      return console.log(\"Error\", error);\n    });\n  });\n};\n\nvar fetchAllData = function fetchAllData(setData) {\n  if (Platform.OS === \"web\") {\n    webFetchData(setData);\n  } else {\n    mobileFetchData(setData);\n  }\n};\n\nvar mobileFetchData = function mobileFetchData(setData) {\n  db.transaction(function (trx) {\n    trx.executeSql(\"SELECT * from guns\", [], function (txObj, _ref) {\n      var _array = _ref.rows._array;\n      return setData(_array);\n    }, function (txObj, error) {\n      return console.log(\"Error\", error);\n    });\n  });\n};\n\nvar webFetchData = function webFetchData(setData) {\n  db.transaction(function (trx) {\n    trx.executeSql(\"SELECT * from guns\", [], function (txObj, resultsSet) {\n      return setData(resultsSet.rows);\n    }, function (txObj, error) {\n      return console.log(\"Error\", error);\n    });\n  });\n};\n\nexport { createDb, addToDb, fetchAllData };","map":{"version":3,"sources":["C:/Users/Josel/OneDrive/Desktop/csgoSimulator/DBConnection.js"],"names":["openDatabase","db","createDb","transaction","trx","executeSql","txObj","resultSet","console","log","error","addToDb","skinName","icon_url","rarity","exterior","fetchAllData","setData","Platform","OS","webFetchData","mobileFetchData","_array","rows","resultsSet"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,aAA3B;;AAGA,IAAMC,EAAE,GAAGD,YAAY,CAAC,WAAD,CAAvB;;AAEA,IAAME,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnBD,EAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,GAAG,EAAI;AAClBA,IAAAA,GAAG,CAACC,UAAJ,CACI,mIADJ,EACwI,EADxI,EAEI,UAACC,KAAD,EAAQC,SAAR;AAAA,aAAsBC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAtB;AAAA,KAFJ,EAGI,UAACH,KAAD,EAAQI,KAAR;AAAA,aAAkBF,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,KAArB,CAAlB;AAAA,KAHJ;AAKH,GAND;AAOH,CARD;;AAUA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,QAAD,EAAWC,QAAX,EAAqBC,MAArB,EAA6BC,QAA7B,EAA0C;AAStDd,EAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,GAAG,EAAI;AAClBA,IAAAA,GAAG,CAACC,UAAJ,CACI,iFADJ,EACsF,CAACO,QAAD,EAAWC,QAAX,EAAqBC,MAArB,EAA6BC,QAA7B,CADtF,EAEI,UAACT,KAAD,EAAQC,SAAR;AAAA,aAAsBC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,SAAvB,CAAtB;AAAA,KAFJ,EAGI,UAACD,KAAD,EAAQI,KAAR;AAAA,aAAkBF,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,KAArB,CAAlB;AAAA,KAHJ;AAKH,GAND;AAOH,CAhBD;;AAkBA,IAAMM,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAa;AAC9B,MAAIC,QAAQ,CAACC,EAAT,KAAgB,KAApB,EAA0B;AACtBC,IAAAA,YAAY,CAACH,OAAD,CAAZ;AACH,GAFD,MAGI;AACAI,IAAAA,eAAe,CAACJ,OAAD,CAAf;AACH;AACJ,CAPD;;AASA,IAAMI,eAAe,GAAG,SAAlBA,eAAkB,CAACJ,OAAD,EAAY;AAChChB,EAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,GAAG,EAAI;AAClBA,IAAAA,GAAG,CAACC,UAAJ,CACI,oBADJ,EACyB,EADzB,EAEI,UAACC,KAAD;AAAA,UAAgBgB,MAAhB,QAASC,IAAT,CAAgBD,MAAhB;AAAA,aAA6BL,OAAO,CAACK,MAAD,CAApC;AAAA,KAFJ,EAGI,UAAChB,KAAD,EAAQI,KAAR;AAAA,aAAkBF,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,KAArB,CAAlB;AAAA,KAHJ;AAKH,GAND;AAOH,CARD;;AAUA,IAAMU,YAAY,GAAG,SAAfA,YAAe,CAACH,OAAD,EAAY;AAC7BhB,EAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,GAAG,EAAI;AAClBA,IAAAA,GAAG,CAACC,UAAJ,CACI,oBADJ,EACyB,EADzB,EAEI,UAACC,KAAD,EAAQkB,UAAR;AAAA,aAAuBP,OAAO,CAACO,UAAU,CAACD,IAAZ,CAA9B;AAAA,KAFJ,EAGI,UAACjB,KAAD,EAAQI,KAAR;AAAA,aAAkBF,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,KAArB,CAAlB;AAAA,KAHJ;AAKH,GAND;AAOH,CARD;;AAUA,SAAQR,QAAR,EAAkBS,OAAlB,EAA2BK,YAA3B","sourcesContent":["import {openDatabase} from 'expo-sqlite'\r\nimport {Platform} from 'react-native'\r\n\r\nconst db = openDatabase('csgoSkins')\r\n\r\nconst createDb = () => {\r\n    db.transaction(trx => {\r\n        trx.executeSql(\r\n            \"Create table if not exists skins (id INTEGER PRIMARY KEY AUTOINCREMENT, skinName TEXT, icon_url TEXT, rarity TEXT, exterior TEXT)\",[],\r\n            (txObj, resultSet) => console.log(\"Success\"),\r\n            (txObj, error) => console.log(\"Error\", error)\r\n        )\r\n    })\r\n}\r\n\r\nconst addToDb = (skinName, icon_url, rarity, exterior) => {\r\n    // db.transaction(trx => {\r\n    //     trx.executeSql(\r\n    //         \"Create table if not exists skins (id INTEGER PRIMARY KEY AUTOINCREMENT, skinName TEXT, icon_url TEXT, rarity TEXT, exterior TEXT)\",[],\r\n    //         (txObj, resultSet) => console.log(\"Success\"),\r\n    //         (txObj, error) => console.log(\"Error\", error)\r\n    //     )\r\n    // })\r\n\r\n    db.transaction(trx => {\r\n        trx.executeSql(\r\n            \"Insert into skins (skinName , icon_url , rarity , exterior) VALUES (?, ?, ?, ?)\",[skinName, icon_url, rarity, exterior],\r\n            (txObj, resultSet) => console.log(\"Success\", resultSet),\r\n            (txObj, error) => console.log(\"Error\", error)\r\n        )\r\n    })\r\n}\r\n\r\nconst fetchAllData = (setData) => {\r\n    if (Platform.OS === \"web\"){\r\n        webFetchData(setData)\r\n    }\r\n    else{\r\n        mobileFetchData(setData)\r\n    }\r\n}\r\n\r\nconst mobileFetchData = (setData) =>{\r\n    db.transaction(trx => {\r\n        trx.executeSql(\r\n            \"SELECT * from guns\",[],\r\n            (txObj, {rows: {_array}}) => setData(_array),\r\n            (txObj, error) => console.log(\"Error\", error)\r\n        )\r\n    })\r\n}\r\n\r\nconst webFetchData = (setData) =>{\r\n    db.transaction(trx => {\r\n        trx.executeSql(\r\n            \"SELECT * from guns\",[],\r\n            (txObj, resultsSet) => setData(resultsSet.rows),\r\n            (txObj, error) => console.log(\"Error\", error)\r\n        )\r\n    })\r\n}\r\n\r\nexport {createDb, addToDb, fetchAllData}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}