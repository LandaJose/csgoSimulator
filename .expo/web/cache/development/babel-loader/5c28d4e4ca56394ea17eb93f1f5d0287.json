{"ast":null,"code":"import { openDatabase } from 'expo-sqlite';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nvar db = openDatabase('csgoSkins');\n\nvar createDbTable = function createDbTable() {\n  db.transaction(function (trx) {\n    trx.executeSql(\"Create table if not exists skins (id INTEGER PRIMARY KEY AUTOINCREMENT, skinName TEXT, icon_url TEXT, rarity TEXT, exterior TEXT)\", [], function (txObj, resultSet) {\n      return console.log(\"Success\");\n    }, function (txObj, error) {\n      return console.log(\"Error\", error);\n    });\n  });\n};\n\nvar addToDb = function addToDb(skinName, icon_url, rarity, exterior) {\n  db.transaction(function (trx) {\n    trx.executeSql(\"Insert into skins (skinName , icon_url , rarity , exterior) VALUES (?, ?, ?, ?)\", [skinName, icon_url, rarity, exterior], function (txObj, resultSet) {\n      return console.log(\"Success\", resultSet);\n    }, function (txObj, error) {\n      return console.log(\"Error\", error);\n    });\n  });\n};\n\nvar fetchAllData = function fetchAllData(query, successCallback) {\n  if (Platform.OS === \"web\") {\n    webFetchData(query, successCallback);\n  } else {\n    mobileFetchData(query, successCallback);\n  }\n};\n\nvar mobileFetchData = function mobileFetchData(query, successCallback) {\n  db.transaction(function (trx) {\n    trx.executeSql(query, [], function (txObj, _ref) {\n      var _array = _ref.rows._array;\n      return successCallback(_array);\n    }, function (txObj, error) {\n      return console.log(\"Error\", error);\n    });\n  });\n};\n\nvar webFetchData = function webFetchData(query, successCallback) {\n  db.transaction(function (trx) {\n    trx.executeSql(query, [], function (txObj, resultsSet) {\n      return successCallback(resultsSet.rows);\n    }, function (txObj, error) {\n      return console.log(\"Error\", error);\n    });\n  });\n};\n\nexport { createDbTable, addToDb, fetchAllData };","map":{"version":3,"sources":["C:/Users/Josel/OneDrive/Desktop/csgoSimulator/DBConnection.js"],"names":["openDatabase","db","createDbTable","transaction","trx","executeSql","txObj","resultSet","console","log","error","addToDb","skinName","icon_url","rarity","exterior","fetchAllData","query","successCallback","Platform","OS","webFetchData","mobileFetchData","_array","rows","resultsSet"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,aAA3B;;AAGA,IAAMC,EAAE,GAAGD,YAAY,CAAC,WAAD,CAAvB;;AAEA,IAAME,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxBD,EAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,GAAG,EAAI;AAClBA,IAAAA,GAAG,CAACC,UAAJ,CACI,mIADJ,EACwI,EADxI,EAEI,UAACC,KAAD,EAAQC,SAAR;AAAA,aAAsBC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAtB;AAAA,KAFJ,EAGI,UAACH,KAAD,EAAQI,KAAR;AAAA,aAAkBF,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,KAArB,CAAlB;AAAA,KAHJ;AAKH,GAND;AAOH,CARD;;AAUA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,QAAD,EAAWC,QAAX,EAAqBC,MAArB,EAA6BC,QAA7B,EAA0C;AAStDd,EAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,GAAG,EAAI;AAClBA,IAAAA,GAAG,CAACC,UAAJ,CACI,iFADJ,EACsF,CAACO,QAAD,EAAWC,QAAX,EAAqBC,MAArB,EAA6BC,QAA7B,CADtF,EAEI,UAACT,KAAD,EAAQC,SAAR;AAAA,aAAsBC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,SAAvB,CAAtB;AAAA,KAFJ,EAGI,UAACD,KAAD,EAAQI,KAAR;AAAA,aAAkBF,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,KAArB,CAAlB;AAAA,KAHJ;AAKH,GAND;AAOH,CAhBD;;AAkBA,IAAMM,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAQC,eAAR,EAA4B;AAC7C,MAAIC,QAAQ,CAACC,EAAT,KAAgB,KAApB,EAA0B;AACtBC,IAAAA,YAAY,CAACJ,KAAD,EAAQC,eAAR,CAAZ;AACH,GAFD,MAGI;AACAI,IAAAA,eAAe,CAACL,KAAD,EAAQC,eAAR,CAAf;AACH;AACJ,CAPD;;AASA,IAAMI,eAAe,GAAG,SAAlBA,eAAkB,CAACL,KAAD,EAAQC,eAAR,EAA2B;AAC/CjB,EAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,GAAG,EAAI;AAClBA,IAAAA,GAAG,CAACC,UAAJ,CACIY,KADJ,EACU,EADV,EAEI,UAACX,KAAD;AAAA,UAAgBiB,MAAhB,QAASC,IAAT,CAAgBD,MAAhB;AAAA,aAA6BL,eAAe,CAACK,MAAD,CAA5C;AAAA,KAFJ,EAGI,UAACjB,KAAD,EAAQI,KAAR;AAAA,aAAkBF,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,KAArB,CAAlB;AAAA,KAHJ;AAKH,GAND;AAOH,CARD;;AAUA,IAAMW,YAAY,GAAG,SAAfA,YAAe,CAACJ,KAAD,EAAQC,eAAR,EAA2B;AAC5CjB,EAAAA,EAAE,CAACE,WAAH,CAAe,UAAAC,GAAG,EAAI;AAClBA,IAAAA,GAAG,CAACC,UAAJ,CACIY,KADJ,EACU,EADV,EAEI,UAACX,KAAD,EAAQmB,UAAR;AAAA,aAAuBP,eAAe,CAACO,UAAU,CAACD,IAAZ,CAAtC;AAAA,KAFJ,EAGI,UAAClB,KAAD,EAAQI,KAAR;AAAA,aAAkBF,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,KAArB,CAAlB;AAAA,KAHJ;AAKH,GAND;AAOH,CARD;;AAUA,SAAQR,aAAR,EAAuBS,OAAvB,EAAgCK,YAAhC","sourcesContent":["import {openDatabase} from 'expo-sqlite'\r\nimport {Platform} from 'react-native'\r\n\r\nconst db = openDatabase('csgoSkins')\r\n\r\nconst createDbTable = () => {\r\n    db.transaction(trx => {\r\n        trx.executeSql(\r\n            \"Create table if not exists skins (id INTEGER PRIMARY KEY AUTOINCREMENT, skinName TEXT, icon_url TEXT, rarity TEXT, exterior TEXT)\",[],\r\n            (txObj, resultSet) => console.log(\"Success\"),\r\n            (txObj, error) => console.log(\"Error\", error)\r\n        )\r\n    })\r\n}\r\n\r\nconst addToDb = (skinName, icon_url, rarity, exterior) => {\r\n    // db.transaction(trx => {\r\n    //     trx.executeSql(\r\n    //         \"Create table if not exists skins (id INTEGER PRIMARY KEY AUTOINCREMENT, skinName TEXT, icon_url TEXT, rarity TEXT, exterior TEXT)\",[],\r\n    //         (txObj, resultSet) => console.log(\"Success\"),\r\n    //         (txObj, error) => console.log(\"Error\", error)\r\n    //     )\r\n    // })\r\n\r\n    db.transaction(trx => {\r\n        trx.executeSql(\r\n            \"Insert into skins (skinName , icon_url , rarity , exterior) VALUES (?, ?, ?, ?)\",[skinName, icon_url, rarity, exterior],\r\n            (txObj, resultSet) => console.log(\"Success\", resultSet),\r\n            (txObj, error) => console.log(\"Error\", error)\r\n        )\r\n    })\r\n}\r\n\r\nconst fetchAllData = (query, successCallback) => {\r\n    if (Platform.OS === \"web\"){\r\n        webFetchData(query, successCallback)\r\n    }\r\n    else{\r\n        mobileFetchData(query, successCallback)\r\n    }\r\n}\r\n\r\nconst mobileFetchData = (query, successCallback) =>{\r\n    db.transaction(trx => {\r\n        trx.executeSql(\r\n            query,[],\r\n            (txObj, {rows: {_array}}) => successCallback(_array),\r\n            (txObj, error) => console.log(\"Error\", error)\r\n        )\r\n    })\r\n}\r\n\r\nconst webFetchData = (query, successCallback) =>{\r\n    db.transaction(trx => {\r\n        trx.executeSql(\r\n            query,[],\r\n            (txObj, resultsSet) => successCallback(resultsSet.rows),\r\n            (txObj, error) => console.log(\"Error\", error)\r\n        )\r\n    })\r\n}\r\n\r\nexport {createDbTable, addToDb, fetchAllData}\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}